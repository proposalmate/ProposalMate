<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Proposal - ProposalMate</title>
    <link rel="stylesheet" href="../css/master.css">
    <link rel="stylesheet" href="../css/mobile-menu-fix.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <div class="dashboard-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <a href="../index.html" class="logo">ProposalMate</a>
            </div>
            
            <div class="sidebar-menu">
                <a href="dashboard.html"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
                <a href="proposals.html" class="active"><i class="fas fa-file-alt"></i> My Proposals</a>
                <a href="create-proposal.html"><i class="fas fa-plus-circle"></i> Create New Proposal</a>
                <a href="clients.html"><i class="fas fa-users"></i> Clients</a>
                <a href="settings.html"><i class="fas fa-cog"></i> Account Settings</a>
                <a href="subscription.html"><i class="fas fa-credit-card"></i> Subscription</a>
                <a href="../index.html"><i class="fas fa-sign-out-alt"></i> Logout</a>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="main-content">
            <div class="top-bar">
                <div class="menu-toggle">
                    <i class="fas fa-bars"></i>
                </div>
                
                <div class="user-info">
                    <a href="#" id="user-menu">
                        <span class="user-name">John Smith</span>
                        <i class="fas fa-chevron-down"></i>
                    </a>
                    <div class="user-dropdown">
                        <a href="settings.html">Settings</a>
                        <a href="../index.html">Logout</a>
                    </div>
                </div>
            </div>
            
            <div class="dashboard-content" id="main-content">
                <div class="content-header">
                    <a href="proposals.html" class="back-link"><i class="fas fa-arrow-left"></i> Back to Proposals</a>
                    <h1>Edit Proposal</h1>
                </div>
                
                <div class="proposal-form-container">
                    <form id="proposal-form" class="card">
                        <div class="form-section">
                            <h2>Basic Information</h2>
                            
                            <div class="form-group">
                                <label for="proposal-title">Proposal Title</label>
                                <input type="text" id="proposal-title" name="title" value="Website Redesign for ABC Company" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="client-select">Client</label>
                                <select id="client-select" name="client_id" required>
                                    <option value="">Select a client</option>
                                    <option value="new">+ Add New Client</option>
                                    <option value="1" selected>Emma Johnson</option>
                                    <option value="2">Michael Brown</option>
                                    <option value="3">Sarah Wilson</option>
                                </select>
                            </div>
                            
                            <!-- New Client Form (hidden by default) -->
                            <div id="new-client-form" style="display: none;">
                                <div class="form-group">
                                    <label for="client-name">Client Name</label>
                                    <input type="text" id="client-name" name="client_name" placeholder="Full name">
                                </div>
                                
                                <div class="form-group">
                                    <label for="client-email">Client Email</label>
                                    <input type="email" id="client-email" name="client_email" placeholder="email@example.com">
                                </div>
                                
                                <div class="form-group">
                                    <label for="client-phone">Client Phone (optional)</label>
                                    <input type="tel" id="client-phone" name="client_phone" placeholder="+1 (800) 456-7890">
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="proposal-template">Template</label>
                                <select id="proposal-template" name="template_id" required>
                                    <option value="">Select a template</option>
                                    <option value="1" selected>Photography Package</option>
                                    <option value="2">Wedding Planning</option>
                                    <option value="3">Venue Booking</option>
                                    <option value="4">Catering Services</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-section">
                            <h2>Proposal Details</h2>
                            
                            <div class="form-group">
                                <label for="proposal-intro">Introduction</label>
                                <textarea id="proposal-intro" name="introduction" rows="4" required>Thank you for considering our services for your website redesign project. At ABC Design Studio, we specialize in creating modern, user-friendly websites that help businesses achieve their online goals. With over 10 years of experience in the industry, we have the expertise to deliver a website that will impress your visitors and drive results.

After our initial consultation, we understand that you're looking for a complete overhaul of your current website to improve user experience, modernize the design, and optimize for conversions. This proposal outlines our recommended approach, services, and pricing for your project.</textarea>
                            </div>
                            
                            <div class="form-group">
                                <label for="proposal-scope">Scope of Work</label>
                                <textarea id="proposal-scope" name="scope" rows="6" required>Our website redesign package for ABC Company includes:
- Complete website redesign with modern, responsive design
- User experience (UX) analysis and implementation
- Content migration from existing website
- Search engine optimization (SEO) setup
- Integration with your existing CRM and email marketing tools
- Custom contact forms and lead generation features
- Training session for your team on website management
- 30 days of post-launch support

The project will be completed in three phases:
1. Discovery and Planning (2 weeks)
2. Design and Development (4 weeks)
3. Testing and Launch (2 weeks)</textarea>
                            </div>
                            
                            <div class="form-group">
                                <label>Services & Pricing</label>
                                <div id="services-container">
                                    <div class="service-item">
                                        <input type="text" name="service_name[]" value="UX Research & Strategy" required>
                                        <input type="text" name="service_description[]" value="User research, sitemap creation, and wireframing">
                                        <input type="number" name="service_price[]" value="500" step="0.01" required>
                                        <button type="button" class="remove-service ghost-btn-danger btn-sm">Remove</button>
                                    </div>
                                    <div class="service-item">
                                        <input type="text" name="service_name[]" value="Website Design" required>
                                        <input type="text" name="service_description[]" value="Custom design for all pages based on your brand guidelines">
                                        <input type="number" name="service_price[]" value="800" step="0.01" required>
                                        <button type="button" class="remove-service ghost-btn-danger btn-sm">Remove</button>
                                    </div>
                                    <div class="service-item">
                                        <input type="text" name="service_name[]" value="Development & Integration" required>
                                        <input type="text" name="service_description[]" value="Front-end and back-end development with CRM integration">
                                        <input type="number" name="service_price[]" value="1000" step="0.01" required>
                                        <button type="button" class="remove-service ghost-btn-danger btn-sm">Remove</button>
                                    </div>
                                    <div class="service-item">
                                        <input type="text" name="service_name[]" value="SEO Setup" required>
                                        <input type="text" name="service_description[]" value="On-page SEO optimization and technical SEO implementation">
                                        <input type="number" name="service_price[]" value="200" step="0.01" required>
                                        <button type="button" class="remove-service ghost-btn-danger btn-sm">Remove</button>
                                    </div>
                                </div>
                                <button type="button" id="add-service" class="ghost-btn btn-sm">+ Add Another Service</button>
                            </div>
                            
                            <div class="form-group">
                                <label for="proposal-total">Total Price (£)</label>
                                <input type="number" id="proposal-total" name="total_price" value="2500" step="0.01" readonly>
                            </div>
                        </div>
                        
                        <div class="form-section">
                            <h2>Terms & Conditions</h2>
                            
                            <div class="form-group">
                                <label for="proposal-terms">Terms & Conditions</label>
                                <textarea id="proposal-terms" name="terms" rows="6">Payment Schedule
We require a 50% deposit (£1,250.00) to begin work, with the remaining balance due upon project completion.

Timeline
The estimated timeline for this project is 8 weeks from the start date. The actual timeline may vary based on client feedback and revision cycles.

Revisions
This proposal includes up to two rounds of revisions for each deliverable. Additional revisions will be billed at our hourly rate of £75/hour.

Cancellation
If the project is cancelled after work has begun, payment will be due for all work completed up to the cancellation date.</textarea>
                            </div>
                            
                            <div class="form-group">
                                <label for="proposal-expiry">Proposal Expiry Date</label>
                                <input type="date" id="proposal-expiry" name="expiry_date" value="2025-05-05" required>
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" class="ghost-btn" id="save-draft">Save as Draft</button>
                            <button type="submit" class="elevated-btn">Update Proposal</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    
    <script src="../js/api.js"></script>
    <script src="../js/navigation.js"></script>
    <script src="../js/proposal.js"></script>
</body>
</html>
